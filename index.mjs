// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-finite@v0.1.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.1.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.1.1-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@v0.1.1-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-fifo@v0.1.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.1-esm/index.mjs";import{isPrimitive as p}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.1.0-esm/index.mjs";var u=["terms","convergents","*"];function v(e,r){return l(r)?m(r,"iter")&&(e.iter=r.iter,!p(r.iter))?new TypeError(s("0Zv2t,G9","iter",r.iter)):m(r,"tol")&&(e.tol=r.tol,!t(r.tol)||r.tol<=0)?new TypeError(s("0Zv4R,G8","tol",r.tol)):m(r,"returns")&&(e.returns=r.returns,-1===u.indexOf(r.returns))?new TypeError(s("0Zv2X,3g,4S,GD,Gg,Jm","returns",u.join('", "'),r.returns)):null:new TypeError(s("0Zv2V,FD",r))}var h={terms:function(e,t,r){return r&&e>0?-e:e},convergents:function(e,t,r){return r&&e>0?-t:t},"*":function(e,t,r){return r&&e>0?[-e,-t]:[e,t]}};function j(l,m){var p,u,a,f,c,g,b,x,w,y,E,G,T,Z,D;if(!t(l))throw new TypeError(s("0Zv4Q,GC",l));if(f={iter:1e308,tol:o,returns:"terms"},arguments.length>1&&(b=v(f,m)))throw b;return p=h[f.returns],g=0,a=l,l<0?(x=!0,l=-l):x=!1,D=0,e(c={},"next",F),e(c,"return",J),r&&e(c,r,O),T=new d,w=n(l),T.push([w,w]),w===l||0===w&&(w=n(l=1/l),T.push([w,1/w]),w===l)?(g=1,c):(Z=1/(l-w),E=y=w,G=0,T.push(C()),T.push(C()),c);function C(){var e=y;return w=n(Z),Z=1/(Z-w),0===(G+=w)&&(G=1e-50),0===(E=w+1/E)&&(E=1e-50),y*=u=E*(G=1/G),i(u-1)<=f.tol&&(g=1,e===y)?[-1,y]:[w,y]}function F(){var e,t,r;return D+=1,g>0?1===g&&T.length>0?(t=(e=T.pop())[0],r=e[1],-1===t?{done:!0}:(e=T.first(),2===T.length&&1===e[0]&&(t+=1,r=e[1],T.clear()),{value:p(t,r,x),done:!1})):(g=2,{done:!0}):D===f.iter?(t=(e=T.pop())[0],r=e[1],1===(e=T.first())[0]&&(t+=1,r=e[1]),T.clear(),g=2,{value:p(t,r,x),done:!1}):(e=T.push(C()).pop(),{value:p(e[0],e[1],x),done:!1})}function J(e){return g=2,arguments.length?{value:e,done:!0}:{done:!0}}function O(){return j(a,f)}}export{j as default};
//# sourceMappingURL=index.mjs.map
