// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-finite@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.0.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-floor@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-eps@v0.0.8-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-fifo@esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import{isPrimitive as p}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@esm/index.mjs";var u=["terms","convergents","*"];function h(e,r){return l(r)?m(r,"iter")&&(e.iter=r.iter,!p(r.iter))?new TypeError(s("0Hs35","iter",r.iter)):m(r,"tol")&&(e.tol=r.tol,!t(r.tol)||r.tol<=0)?new TypeError(s("0Hs4e","tol",r.tol)):m(r,"returns")&&(e.returns=r.returns,-1===u.indexOf(r.returns))?new TypeError(s("0Hs3t","returns",u.join('", "'),r.returns)):null:new TypeError(s("0Hs2h",r))}var j={terms:function(e,t,r){return r&&e>0?-e:e},convergents:function(e,t,r){return r&&e>0?-t:t},"*":function(e,t,r){return r&&e>0?[-e,-t]:[e,t]}};function a(l,m){var p,u,f,c,v,g,b,x,w,y,E,H,T,O,P;if(!t(l))throw new TypeError(s("0Hs4d",l));if(c={iter:1e308,tol:o,returns:"terms"},arguments.length>1&&(b=h(c,m)))throw b;return p=j[c.returns],g=0,f=l,l<0?(x=!0,l=-l):x=!1,P=0,e(v={},"next",q),e(v,"return",z),r&&e(v,r,A),T=new d,w=n(l),T.push([w,w]),w===l||0===w&&(w=n(l=1/l),T.push([w,1/w]),w===l)?(g=1,v):(O=1/(l-w),E=y=w,H=0,T.push(k()),T.push(k()),v);function k(){var e=y;return w=n(O),O=1/(O-w),0===(H+=w)&&(H=1e-50),0===(E=w+1/E)&&(E=1e-50),y*=u=E*(H=1/H),i(u-1)<=c.tol&&(g=1,e===y)?[-1,y]:[w,y]}function q(){var e,t,r;return P+=1,g>0?1===g&&T.length>0?(t=(e=T.pop())[0],r=e[1],-1===t?{done:!0}:(e=T.first(),2===T.length&&1===e[0]&&(t+=1,r=e[1],T.clear()),{value:p(t,r,x),done:!1})):(g=2,{done:!0}):P===c.iter?(t=(e=T.pop())[0],r=e[1],1===(e=T.first())[0]&&(t+=1,r=e[1]),T.clear(),g=2,{value:p(t,r,x),done:!1}):(e=T.push(k()).pop(),{value:p(e[0],e[1],x),done:!1})}function z(e){return g=2,arguments.length?{value:e,done:!0}:{done:!0}}function A(){return a(f,c)}}export{a as default};
//# sourceMappingURL=index.mjs.map
